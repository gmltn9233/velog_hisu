<h2 id="rest--restful-api">REST / RESTful API</h2>
<h3 id="apiλ€">APIλ€?</h3>
<blockquote>
<p> <strong>API(Application Programming Interface)</strong>λ” ν• ν”„λ΅κ·Έλ¨μ—μ„ λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨μΌλ΅ <strong>λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• λ°©λ²•</strong>μ„ λ§ν•λ‹¤. </p>
</blockquote>
<h3 id="restλ€">RESTλ€?</h3>
<blockquote>
<ul>
<li>μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•κΈ° μ„ν• μ•„ν‚¤ν…μ³ μ¤νƒ€μΌ μ¤‘ ν•λ‚λ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ <strong>'ν†µμ‹  λ°©μ‹'</strong>μ„ κ·μ •ν• κ²ƒ</li>
</ul>
</blockquote>
<ul>
<li>ν•΄λ‹Ή ν†µμ‹  λ°©μ‹μ€ 'HTTP ν”„λ΅ν† μ½'μ„ κΈ°λ°μΌλ΅ ν•λ©° <strong>μμ›, ν–‰μ„, ν‘ν„</strong> μ„Έ κ°€μ§€ μ”μ†λ΅ κµ¬μ„± λ¨</li>
</ul>
<h3 id="rest-api-representational-state-transferλ€">REST API (Representational State Transfer)λ€?</h3>
<blockquote>
<p>REST μ•„ν‚¤ν…μ³ μ¤νƒ€μΌμ— λ”°λΌ κµ¬μ„±ν• APIλ¥Ό μλ―Έ</p>
</blockquote>
<h3 id="restful-apiλ€">RESTful APIλ€?</h3>
<blockquote>
<ul>
<li>HTTPλ¥Ό μ„ν• μ•„ν‚¤ν…μ³ μ¤νƒ€μΌ μ¤‘ ν•λ‚λ΅ <strong>RESTμ μ›μΉ™μ„ λ”°λ¥΄λ” μ›Ή μ„λΉ„μ¤</strong>λ¥Ό 'κµ¬ν„ν•λ” λ°©μ‹'μ΄λ©° μ›Ή μ„λΉ„μ¤λ¥Ό κ°λ°ν•λ” λ°©μ‹</li>
</ul>
</blockquote>
<ul>
<li>ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ μμ›μ„ μ£Όκ³ λ°›μ„ λ• 'μΌκ΄„μ μΈ λ°©μ‹' μ„ μ κ³µν•λ©° μ΄λ¥Ό ν†µν•΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ μ—­ν• μ„ 'λ…ν™•ν•κ² λ¶„λ¦¬'ν•κ³  μ„λ΅ 'λ…λ¦½μ 'μΌλ΅ κ°λ°ν•  μ μκ² λλ‹¤.</li>
</ul>
<h3 id="rest-api-μ™€-restful-apiμ-μ°¨μ΄μ ">REST API μ™€ RESTful APIμ μ°¨μ΄μ </h3>
<blockquote>
<ul>
<li>REST APIλ” REST μ•„ν‚¤ν…μ³ μ¤νƒ€μΌμ„ λ”°λ¥΄λ” APIμ΄λ©° RESTful APIλ” REST APIλ¥Ό μ κ³µν•λ” <strong>μ›Ή μ„λΉ„μ¤</strong>λ¥Ό μλ―Έ</li>
</ul>
</blockquote>
<ul>
<li>κ²°λ΅ μ μΌλ΅λ” RESTful APIλ” REST APIμ μ›μΉ™μ„ λ”°λ¥΄κΈ° λ•λ¬Έμ— REST APIλ³΄λ‹¤ μ΅°κΈ λ” RESTful ν•λ‹¤κ³  λ³Ό μ μλ‹¤.</li>
</ul>
<h3 id="restful-ν•λ‹¤-μλ―Έλ”">RESTful ν•λ‹¤ μλ―Έλ”?</h3>
<blockquote>
<p> REST APIμ μ›μΉ™μ„ λ”°λΌ κµ¬μ„±ν• μ›Ή μ„λΉ„μ¤λ¥Ό μλ―Έν•λ‹¤. <strong>μμ›μ„ URLλ΅ ν‘ν„</strong>ν•κ³  <strong>HTTP Methodλ¥Ό μ΄μ©ν•΄ ν•΄λ‹Ή μμ›μ— λ€ν•΄ CRUD μ‘μ—…μ„ μν–‰</strong>ν•λ©° <strong>λ¦¬μ†μ¤μ™€ ν–‰μ„λ¥Ό λ…μ‹μ μΌλ΅ λ¶„λ¦¬</strong>ν•μ—¬ μ‚¬μ©ν•¨μΌλ΅μ¨ URLλ§ λ³΄κ³ λ„ μ–΄λ–¤ λ™μ‘μ„ μν–‰ν•λ”μ§€ μ• μ μλ„λ΅ κµ¬μ„±ν• κ²ƒμ„ μλ―Έ</p>
</blockquote>
<h2 id="restμ-μ”μ†">RESTμ μ”μ†</h2>
<h3 id="1-μμ›resourceμ΄λ€">1. μμ›(Resource)μ΄λ€?</h3>
<blockquote>
<ul>
<li>μ›Ή μƒμ— μ΅΄μ¬ν•λ” λ°μ΄ν„°λ‚ μ •λ³΄μ™€ κ°™μ€ λ¨λ“  κ²ƒμ„ μλ―Έ ex) μ‚¬μ©μ,λ“κΈ€,μ΄λ―Έμ§€ λ“±</li>
</ul>
</blockquote>
<ul>
<li>μμ›μ μ΄λ¦„ κµ¬μ„±μ€ λ™μ‚¬κ°€ μ•„λ‹ '<strong>λ…μ‚¬'</strong> λ¥Ό μ‚¬μ©ν•λ”κ²ƒμ΄ κ¶μ¥λ¨</li>
</ul>
<h3 id="2-ν–‰μ„verbλ€">2. ν–‰μ„(Verb)λ€?</h3>
<p><strong>- HTTP Methodλ¥Ό μ΄μ©ν• μμ›μ— λ€ν• ν–‰μ„(μ΅°ν,μƒμ„±,μμ •,μ‚­μ )λ¥Ό μλ―Έ</strong></p>
<table>
<thead>
<tr>
<th><strong>HTTP Method</strong></th>
<th><strong>ν–‰μ„</strong></th>
<th><strong>μμ‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>μμ›μ„ μ΅°ν</td>
<td>μ‚¬μ©μ μ •λ³΄ μ΅°ν: GET/users/{user_id}</td>
</tr>
<tr>
<td>POST</td>
<td>μμ›μ„ μƒμ„±</td>
<td>μ‚¬μ©μ μ •λ³΄ μƒμ„±: POST/users</td>
</tr>
<tr>
<td>PUT</td>
<td>μμ›μ„ μμ •</td>
<td>μ‚¬μ©μ μ •λ³΄ μμ •: PUT/users/{user_id}</td>
</tr>
<tr>
<td>PATCH</td>
<td>μμ› μΌλ¶€λ¥Ό μμ •</td>
<td>μ‚¬μ©μ μ •λ³΄ μΌλ¶€ μμ • : PATCH/users/{user_id}</td>
</tr>
<tr>
<td>DELETE</td>
<td>μμ›μ„ μ‚­μ </td>
<td>μ‚¬μ©μ μ •λ³΄ μ‚­μ : DELETE/users/{user_id}</td>
</tr>
</tbody></table>
<h3 id="3-ν‘ν„representationμ΄λ€">3. ν‘ν„(Representation)μ΄λ€?</h3>
<blockquote>
<ul>
<li>RESTfulμ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ λ°μ΄ν„° ν†µμ‹ μ„ μ£Όκ³ λ°›λ” '<strong>λ°μ΄ν„° ν•μ‹</strong>(JSON,XML,HTML)' μ„ μλ―Έ</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>λ¶„λ¥</th>
<th>JSON</th>
<th>XML</th>
<th>HTML</th>
</tr>
</thead>
<tbody><tr>
<td>λ¬Έλ²•</td>
<td>κ°€λ³κ³  κ°„κ²°ν•λ©° μ‰½κ² μ½κ³  μ“Έ μ μμ</td>
<td>JSONκ³Ό λΉ„κµν•΄ λ” λ§μ€ λ°μ΄ν„°λ¥Ό ν•„μ”λ΅ν•λ©° μƒμ„Έν•¨</td>
<td>λ°μ΄ν„° κµν™μ„ μ„ν• κ²ƒμ΄ μ•„λ‹λΌ μ›Ή νμ΄μ§€ λ λ”λ§μ„ μ„ν•΄ μ„¤κ³„λ¨</td>
</tr>
<tr>
<td>κ°€λ…μ„±</td>
<td>μ½κ³  κµ¬λ¬Έ λ¶„μ„ν•κΈ° μ‰½κ³  λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°μ™€ λ°°μ—΄μ„ μ§€μ›ν•¨</td>
<td>μ½κ³  κµ¬λ¬Έ λ¶„μ„ν•κΈ° μ‰½κ³  λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°μ™€ μ¤ν‚¤λ§ μ ν¨μ„± κ²€μ‚¬λ¥Ό μ§€μ›ν•¨</td>
<td>μ½κ³  κµ¬λ¬Έ λ¶„μ„ν•κΈ° μ‰½κ³  κΈ°λ³Έ λ°μ΄ν„° κµ¬μ΅°μ™€ λ§ν¬λ¥Ό μ§€μ›ν•¨</td>
</tr>
<tr>
<td>μ μ—°μ„±</td>
<td>μ‰½κ² ν™•μ¥ν•κ³  μ‚¬μ©μ μ •μν•  μ μμΌλ©° λ€λ¶€λ¶„μ ν”„λ΅κ·Έλλ° μ–Έμ–΄λ¥Ό μ§€μ›ν•¨</td>
<td>μ΄λ¦„ κ³µκ°„κ³Ό μ‚¬μ©μ μ •μ νƒκ·Έλ¥Ό μ§€μ›ν•μ§€λ§ ν™•μ¥ν•λ” λ° λ” λ§μ€ λ…Έλ ¥μ΄ ν•„μ”ν•¨</td>
<td>μ ν•λ μ μ—°μ„±μΌλ΅ λ³µμ΅ν• λ°μ΄ν„° κµν™μ—λ” μ ν•©ν•μ§€ μ•μ</td>
</tr>
<tr>
<td>μΈκΈ°λ„</td>
<td>μ›Ή κ°λ°, λ¨λ°”μΌ μ•± λ° APIμ—μ„ λ„λ¦¬ μ‚¬μ©λ¨</td>
<td>κΈ°μ—… μ‘μ© ν”„λ΅κ·Έλ¨ λ° λ κ±°μ‹ μ‹μ¤ν…μ—μ„ λ„λ¦¬ μ‚¬μ©λ¨</td>
<td>μ›Ή κ°λ°μ—μ„ λ„λ¦¬ μ‚¬μ©λ¨, κ·Έλ¬λ‚ APIμ—λ” κ¶μ¥ν•μ§€ μ•μ</td>
</tr>
</tbody></table>
<h3 id="4-restful-api-μƒνƒμ½”λ“status-code">4. RESTful API μƒνƒμ½”λ“(Status Code)</h3>
<blockquote>
<ul>
<li>RESTful API μ—μ„λ” <strong>HTTP μƒνƒ μ½”λ“</strong>λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ μ„±κ³µ λλ” μ‹¤ν¨λ¥Ό μ•λ ¤μ¤</li>
</ul>
</blockquote>
<ul>
<li>μƒνƒμ½”λ“λ” 3μλ¦¬ μ«μλ΅ ν‘ν„λλ©° κ°κ°μ μ«μλ” νΉμ •ν• μλ―Έλ¥Ό κ°€μ§€κ³  μμ</li>
</ul>
<h4 id="μ „μ²΄μ μΈ-μƒνƒμ½”λ“-ν•νƒ">μ „μ²΄μ μΈ μƒνƒμ½”λ“ ν•νƒ</h4>
<table>
<thead>
<tr>
<th><strong>μƒνƒμ½”λ“</strong></th>
<th><strong>μƒνƒ μ •λ³΄</strong></th>
<th><strong>μλ―Έ</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>1xx</strong></td>
<td>Informational</td>
<td>μ”μ²­μ΄ μμ‹ λμ—μΌλ©° μ²λ¦¬κ°€ κ³„μ†λ¨μ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>2xx</strong></td>
<td>Success</td>
<td>μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>3xx</strong></td>
<td>Redirection</td>
<td>μ”μ²­μ΄ μ™„λ£λκΈ° μ„ν•΄ μ¶”κ°€ μ‘μ—…μ΄ ν•„μ”ν•¨μ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>4xx</strong></td>
<td>Client Error</td>
<td>ν΄λΌμ΄μ–ΈνΈ μ¤λ¥λ΅ μΈν•΄ μ”μ²­μ΄ μ‹¤ν¨ν•¨μ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>5xx</strong></td>
<td>Server Error</td>
<td>μ„λ²„ μ¤λ¥λ΅ μΈν•΄ μ”μ²­μ΄ μ‹¤ν¨ν•¨μ„ μλ―Έ</td>
</tr>
</tbody></table>
<h4 id="μΌλ°μ μΌλ΅-μ‚¬μ©λλ”-μƒνƒμ½”λ“-μΆ…λ¥">μΌλ°μ μΌλ΅ μ‚¬μ©λλ” μƒνƒμ½”λ“ μΆ…λ¥</h4>
<table>
<thead>
<tr>
<th><strong>μƒνƒμ½”λ“</strong></th>
<th><strong>μƒνƒ μ •λ³΄</strong></th>
<th><strong>μλ―Έ</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>200</strong></td>
<td>OK</td>
<td>μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—μμ„ μλ―Έ, ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­ν• λ°μ΄ν„°λ¥Ό λ°ν™ν•¨</td>
</tr>
<tr>
<td><strong>201</strong></td>
<td>Created</td>
<td>μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μ„±κ³µμ μΌλ΅ μƒμ„±λμ—μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>204</strong></td>
<td>No Content</td>
<td>μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—μ§€λ§, λ°ν™ν•  λ°μ΄ν„°κ°€ μ—†μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>400</strong></td>
<td>Bad Request</td>
<td>ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μλ»λμ—μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>401</strong></td>
<td>Unauthorized</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦λμ§€ μ•μ•μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>403</strong></td>
<td>Forbidden</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ¦¬μ†μ¤μ— μ ‘κ·Όν•  κ¶ν•μ΄ μ—†μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>404</strong></td>
<td>Not Found</td>
<td>μ”μ²­ν• λ¦¬μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†μμ„ μλ―Έ</td>
</tr>
<tr>
<td><strong>500</strong></td>
<td>Internal Server Error</td>
<td>μ„λ²„μ—μ„ μ¤λ¥κ°€ λ°μƒν•μ—¬ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μμ„ μλ―Έ</td>
</tr>
</tbody></table>
<h2 id="restful-api-κµ¬ν„">RESTful API κµ¬ν„</h2>
<h3 id="controller-μ™€-restcontrollerμ-μ°¨μ΄">@Controller μ™€ @RestControllerμ μ°¨μ΄</h3>
<ul>
<li>@Controllerλ” μΌλ°μ μΌλ΅ HTTP μ”μ²­μ„ μ²λ¦¬ν•κ³  <strong>'View'</strong>λ¥Ό λ°ν™ν•λ”λ° μ‚¬μ©λ¨</li>
<li>@RestControllerλ” HTTP μ”μ²­μ— λ€ν• RESTful μ›Ή μ„λΉ„μ¤μ <strong>JSON,XML λ“±μ 'λ°μ΄ν„°'</strong>λ¥Ό λ°ν™ν•λ”λ° μ‚¬μ©λ¨ </li>
</ul>
<table>
<thead>
<tr>
<th><strong>Annotation</strong></th>
<th><strong>μ„¤λ…</strong></th>
<th><strong>λΉ„κ³ </strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>@Controller</strong></td>
<td>HTTP μ”μ²­μ„ μ²λ¦¬ν•λ” μ»¨νΈλ΅¤λ¬ ν΄λμ¤λ¥Ό μ •μν•λ” μ–΄λ…Έν…μ΄μ…</td>
<td>Spring MVC Viewλ¥Ό λ°ν™ν•λ”λ° μ‚¬μ©λ¨</td>
</tr>
<tr>
<td><strong>@RestController</strong></td>
<td>RESTful μ›Ή μ„λΉ„μ¤λ¥Ό μ„ν• μ»¨νΈλ΅¤λ¬ ν΄λμ¤λ¥Ό μ •μν•λ” μ–΄λ…Έν…μ΄μ…</td>
<td>RESTful μ›Ή μ„λΉ„μ¤μ JSON,XML λ“±μ μ‘λ‹µμ„ λ°ν™ν•λ”λ° μ‚¬μ©λ¨</td>
</tr>
</tbody></table>
<h3 id="restful-apiμ-ν–‰μ„verb-annotation">RESTful APIμ ν–‰μ„(Verb) Annotation</h3>
<table>
<thead>
<tr>
<th><strong>Annotation</strong></th>
<th><strong>HTTP</strong></th>
<th><strong>Method μ—­ν• </strong></th>
<th><strong>λΉ„κ³ (μμ‹)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>@GetMapping</strong></td>
<td>GET</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό μ΅°νν•  λ• μ‚¬μ©</td>
<td>@GetMapping(value=&quot;/users&quot;)</td>
</tr>
<tr>
<td><strong>@PostMapping</strong></td>
<td>POST</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•  λ• μ‚¬μ©</td>
<td>@PostMapping(value=&quot;/users&quot;)</td>
</tr>
<tr>
<td><strong>@PutMapping</strong></td>
<td>PUT</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό κ°±μ‹ ν•  λ• μ‚¬μ©</td>
<td>@PutMapping(value=&quot;/users&quot;)</td>
</tr>
<tr>
<td><strong>@PatchMapping</strong></td>
<td>PATCH</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ μΌλ¶€λ¥Ό κ°±μ‹ ν•  λ• μ‚¬μ©</td>
<td>@PatchMapping(value=&quot;/users&quot;)</td>
</tr>
<tr>
<td><strong>@DeleteMapping</strong></td>
<td>DELETE</td>
<td>ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό μ‚­μ ν•  λ• μ‚¬μ©</td>
<td>@DeleteMapping(value=&quot;/users&quot;)</td>
</tr>
<tr>
<td><strong>@RequestMapping</strong></td>
<td>ALL</td>
<td>μ”μ²­ λ©”μ„λ“(GET, POST, PUT, DELETE λ“±)μ™€ URL λ§¤ν•‘μ„ ν•¨κ» μ§€μ •ν•  μ μλ‹¤.    @RequestMapping(value=&quot;/users&quot;, method=RequestMethod.GET)</td>
<td></td>
</tr>
</tbody></table>
<p>π’΅ <strong>@RequestMapping κ³Ό @XXMapping μ¤‘ λ¬΄μ—‡μ„ μ‚¬μ©ν•΄μ•Ό ν• κΉ?</strong></p>
<blockquote>
<ul>
<li><strong>κ°„λ‹¨ν• HTTP μ”μ²­μ— λ€ν•΄μ„λ” @XXMapping</strong>μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μ½”λ“ κ°€λ…μ„±κ³Ό μ μ§€λ³΄μμ„±μ„ λ†’μΌ μ μλ‹¤. ν•μ§€λ§ <strong>μ—¬λ¬ κ°μ HTTP μ”μ²­ λ©”μ†λ“μ— λ€ν•΄ ν•λ‚μ λ©”μ†λ“λ΅ μ²λ¦¬ν•΄μ•Ό ν•λ” κ²½μ°λ” @RequestMapping</strong>μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.</li>
</ul>
</blockquote>
<h3 id="restful-apiμ-ν‘ν„representation-annotation">RESTful APIμ ν‘ν„(Representation) Annotation</h3>
<h4 id="1-json-λ°μ΄ν„°-ν•μ‹μ-μ „μ†΅-λ°©μ‹">1. JSON λ°μ΄ν„° ν•μ‹μ μ „μ†΅ λ°©μ‹</h4>
<table>
<thead>
<tr>
<th><strong>κµ¬λ¶„</strong></th>
<th><strong>GET λ°©μ‹</strong></th>
<th><strong>POST λ°©μ‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td>μ „μ†΅ λ°μ΄ν„°</td>
<td>URL λμ— νλΌλ―Έν„°λ¥Ό λ¶™μ—¬μ„ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹</td>
<td>HTTP Bodyμ— λ‹΄μ•„μ„ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹</td>
</tr>
<tr>
<td>μ „μ†΅ λ°μ΄ν„° ν¬κΈ° μ ν•</td>
<td>λ°μ΄ν„°μ μ–‘μ— μ ν• μμ</td>
<td>λ°μ΄ν„°μ μ–‘μ— μ ν• μ—†μ</td>
</tr>
<tr>
<td>μΊμ‹± κ°€λ¥ μ—¬λ¶€</td>
<td>κ°€λ¥</td>
<td>λ¶κ°€λ¥</td>
</tr>
<tr>
<td>λ³΄μ•</td>
<td>λ°μ΄ν„° λ…Έμ¶ κ°€λ¥μ„± μμ</td>
<td>λ°μ΄ν„° λ…Έμ¶ κ°€λ¥μ„± λ‚®μ</td>
</tr>
<tr>
<td>μ‚¬μ© μμ‹</td>
<td>κ²€μƒ‰μ–΄ μ „μ†΅, νμ΄μ§€ μ”μ²­</td>
<td>λ΅κ·ΈμΈ,νμ›κ°€μ…,κ²μ‹κΈ€ μ‘μ„±</td>
</tr>
</tbody></table>
<p>π’΅ <strong>μΊμ‹±μ΄λ€?</strong></p>
<blockquote>
<ul>
<li>μ΄μ „μ— μ”μ²­ν• λ°μ΄ν„°λ¥Ό μ €μ¥ν•΄ λ‘μ—λ‹¤κ°€ λ‹¤μ μ”μ²­ μ‹μ— λ°”λ΅ μ κ³µν•λ” κ²ƒ, λ„¤νΈμ›ν¬ λ€μ—­ν­μ„ μ μ•½ν•κ³ , μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μΌ μ μλ‹¤.</li>
</ul>
</blockquote>
<h4 id="2-λ°μ΄ν„°-ν•μ‹-μ£Όμ”-μ–΄λ…Έν…μ΄μ…">2. λ°μ΄ν„° ν•μ‹ μ£Όμ” μ–΄λ…Έν…μ΄μ…</h4>
<p><strong>@PathVariable</strong> : 'URL κ²½λ΅μ μΌλ¶€'λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬λ°›λ” μ–΄λ…Έν…μ΄μ…</p>
<pre><code class="language-java">@GetMapping(&quot;/user/{name}&quot;)
    public String findByName(@PathVariable(&quot;name&quot;) String name){
        return &quot;Name: &quot;+name;
    }</code></pre>
<p><a href="http://localhost:8080/user/user1">http://localhost:8080/user/user1</a> λ΅ μ ‘μ†μ‹</p>
<p><img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/8165fabc-e7de-4e55-ab16-14ac92179c62/image.png" /></p>
<p><strong>@RequestParam</strong> : 'HTTP μ”μ²­ νλΌλ―Έν„°'λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬λ°›λ” μ–΄λ…Έν…μ΄μ…</p>
<pre><code class="language-java">@GetMapping(&quot;/user&quot;)
    public User saveUser(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;studentId&quot;) Long studentId){
        User user = new User();
        user.setName(name);
        user.setStudentId(studentId);
        return user;
    }</code></pre>
<p><img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/1b6f9853-fc42-4bd8-a97b-3359afdeeb73/image.png" /></p>
<p><strong>@RequestBody</strong> : HTTP μ”μ²­μ 'λ³Έλ¬Έ(body)'μ„ λ§¤κ°λ³€μλ΅ μ „λ‹¬λ°›λ” μ–΄λ…Έν…μ΄μ…</p>
<pre><code class="language-java">@PostMapping(&quot;/user&quot;)
    public User saveUser(@RequestBody User user){
        // user κ°μ²΄λ¥Ό λ°›μ•„μ„ μ΄λ¦„μ„ λ³€κ²½
        user.setName(&quot;user2&quot;);
        return user;
    }</code></pre>
<p><img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/b5f4ea41-9506-402a-870e-37ee9b3d1c88/image.png" /></p>
<p><strong>ResponseBody</strong> : HTTP μ‘λ‹µμ 'λ³Έλ¬Έ(body)'μ„ μƒμ„±ν•λ” λ©”μ†λ“μ— μ μ©ν•λ” μ–΄λ…Έν…μ΄μ…</p>
<pre><code class="language-java">@ResponseBody
    @GetMapping(&quot;/data&quot;)
    public User getUser(){
        User user = new User();
        user.setName(&quot;user1&quot;);
        user.setStudentId(1234L);
        return user;
    }</code></pre>
<p><img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/a5c15c14-936b-4cc2-97b0-9f61abee4f3b/image.png" /></p>
<p>π’΅ <strong>RequestBodyμ™€ ResponseBody μ°¨μ΄?</strong></p>
<p>RequestBody: HTTPμ”μ²­μ body λ‚΄μ©μ„ java κ°μ²΄λ΅ λ³€ν™
ResponseBody: java κ°μ²΄μ λ‚΄μ©μ„ HTTP μ‘λ‹µμ bodyλ΅ λ³€ν™</p>
<p><strong>μ„ μμ‹μ—λ” RequestBodyλ§ μ¨λ„ μ‘λ‹µ bodyμ— κ°μ²΄κ°€ λ“¤μ–΄μ¤λλ°μ”??</strong></p>
<blockquote>
<p><strong>@RestController</strong>λ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ—λ” μλ™μΌλ΅ return κ°’μ— ResponseBodyλ¥Ό λ¶™μ—¬ bodyμ— μ „λ‹¬λκΈ° λ•λ¬Έμ— @ResponseBody μƒλµμ΄ κ°€λ¥!</p>
</blockquote>
<p><strong>ResponseStatus</strong> : HTTP μ‘λ‹µμ μƒνƒ μ½”λ“λ¥Ό μ§€μ •ν•λ” μ–΄λ…Έν…μ΄μ…</p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class UserNotFoundException extends RuntimeException{
    public UserNotFoundException(String msg){
        super(msg);
    }
}</code></pre>
<p>μ„μ™€ κ°™μ΄ μ‘λ‹µμ„ μ„¤μ •ν•΄μ£Όκ³  μ‹¶μ„λ• μ‚¬μ©ν•λ‹¤.</p>
<h3 id="restfulapi-κµ¬μ„±ν•κΈ°">RESTfulAPI κµ¬μ„±ν•κΈ°</h3>
<p>π’΅ <strong>RESTfulAPI μ„¤κ³„ κ³Όμ •</strong></p>
<blockquote>
<ol>
<li>μμ›(Resource)μ„ μ •μν•λ‹¤.</li>
<li>ν–‰μ„(HTTP Method)λ¥Ό μ •μν•λ‹¤.</li>
<li>ν‘ν„(Representation)μ„ μ •μν•λ‹¤.</li>
<li>μƒνƒ μ½”λ“(Status Code)λ¥Ό μ •μν•λ‹¤.</li>
<li>API λ¬Έμ„ν™”λ¥Ό μ •μν•λ‹¤.</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>μμ› : Endpoint</th>
<th>ν–‰μ„ : HTTP Method</th>
<th>ν‘ν„ : λ°μ΄ν„° μ „μ†΅ λ°©μ‹</th>
<th>μƒνƒ μ½”λ“</th>
<th>μ„¤λ…</th>
<th>κµ¬μ„± μμ‹</th>
</tr>
</thead>
<tbody><tr>
<td>user</td>
<td>GET</td>
<td>GET μ „μ†΅λ°©μ‹, parameter or URL κ²½λ΅</td>
<td>μ„±κ³µ μ‹ HttpStatus.OK λ°ν™</td>
<td>μ‚¬μ©μλ¥Ό μ΅°νν•λ” APIμ…λ‹λ‹¤.</td>
<td>GET /user/{userId}</td>
</tr>
<tr>
<td>user</td>
<td>POST</td>
<td>POST μ „μ†΅λ°©μ‹, JSON λ°μ΄ν„° μ „μ†΅</td>
<td>μ„±κ³µ μ‹ HttpStatus.OK λ°ν™</td>
<td>μ‚¬μ©μλ¥Ό λ“±λ΅ν•λ” APIμ…λ‹λ‹¤.</td>
<td>POST /user</td>
</tr>
<tr>
<td>user</td>
<td>PUT</td>
<td>POST μ „μ†΅λ°©μ‹, JSON λ°μ΄ν„° μ „μ†΅</td>
<td>μ„±κ³µ μ‹ HttpStatus.OK λ°ν™</td>
<td>μ‚¬μ©μλ¥Ό μμ •ν•λ” APIμ…λ‹λ‹¤</td>
<td>PUT /user</td>
</tr>
<tr>
<td>user</td>
<td>DELETE</td>
<td>POST μ „μ†΅λ°©μ‹, JSON λ°μ΄ν„° μ „μ†΅</td>
<td>μ„±κ³µ μ‹ HttpStatus.OK λ°ν™</td>
<td>μ‚¬μ©μλ¥Ό μ‚­μ ν•λ” APIμ…λ‹λ‹¤</td>
<td>DELETE /user</td>
</tr>
</tbody></table>
<h3 id="responseentity">ResponseEntity</h3>
<p>Spring Frameworkμ—μ„ μ κ³µν•λ” ν΄λμ¤ μ¤‘ <strong>HttpEntity</strong>λΌλ” ν΄λμ¤κ°€ μ΅΄μ¬ν•λ‹¤. μ΄κ²ƒμ€ HTTP μ”μ²­(Request) λλ” μ‘λ‹µ(Response)μ— ν•΄λ‹Ήν•λ” <strong>HttpHeader</strong>μ™€ <strong>HttpBody</strong>λ¥Ό ν¬ν•¨ν•λ” ν΄λμ¤μ΄λ‹¤.</p>
<p>μ΄λ¬ν• HttpEntity ν΄λμ¤λ¥Ό μƒμ†λ°›μ•„ κµ¬ν„ν• ν΄λμ¤κ°€ RequestEntity, ResponseEntity ν΄λμ¤μ΄λ‹¤. <strong>ResponseEntity</strong>λ” μ‚¬μ©μμ HttpRequestμ— λ€ν• μ‘λ‹µ λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•λ” ν΄λμ¤μ΄λ‹¤. λ”°λΌμ„ <strong>HttpStatus,HttpHeaders,HttpBody</strong>λ¥Ό ν¬ν•¨ν•λ‹¤.</p>
<pre><code class="language-java"> @PostMapping(&quot;/user&quot;)
    public ResponseEntity saveUser(@RequestBody User user){
        // user κ°μ²΄λ¥Ό λ°›μ•„μ„ μ΄λ¦„μ„ λ³€κ²½
        user.setName(&quot;user2&quot;);
        return new ResponseEntity(HttpStatus.OK);
    }</code></pre>
<p>μ„μ™€ κ°™μ΄ μ½”λ“λ¥Ό μ§κ³  POSTMANμΌλ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄ μƒνƒμ½”λ“κ°€ 200μΌλ΅ μ¤λ”κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.
<img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/2824670f-a929-4b01-92f9-7514535118ef/image.png" /></p>
<p>λν• μƒνƒμ½”λ“(Status),ν—¤λ”(Headers),μ‘λ‹µλ°μ΄ν„°(ResponseData)λ¥Ό λ‹΄λ” μƒμ„±μλ„ μ΅΄μ¬ν•λ‹¤.</p>
<pre><code class="language-java">public class ResponseEntity&lt;T&gt; extends HttpEntity&lt;T&gt; {

    public ResponseEntity(@Nullable T body, @Nullable MultiValueMap&lt;String, String&gt; headers, HttpStatus status) {
        super(body, headers);
        Assert.notNull(status, &quot;HttpStatus must not be null&quot;);
        this.status = status;
    }
}</code></pre>
<p>μ„μ ResponseEntityλ¥Ό μ΄μ©ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμ„ λ³΄λ‚΄λ” μμ λ¥Ό μ •λ¦¬ν•΄λ³΄μ.</p>
<pre><code class="language-java">import lombok.Data;

@Data
public class Message {

    private StatusEnum status;
    private String message;
    private Object data;

    public Message() {
        this.status = StatusEnum.BAD_REQUEST;
        this.data = null;
        this.message = null;
    }
}</code></pre>
<p><strong>Message</strong>λΌλ” ν΄λμ¤λ¥Ό λ§λ“¤μ–΄ <strong>μƒνƒμ½”λ“, λ©”μ‹μ§€, λ°μ΄ν„°</strong>λ¥Ό λ‹΄μ„ ν•„λ“λ¥Ό μ¶”κ°€ν•λ‹¤.</p>
<pre><code class="language-java">public enum StatusEnum {

    OK(200, &quot;OK&quot;),
    BAD_REQUEST(400, &quot;BAD_REQUEST&quot;),
    NOT_FOUND(404, &quot;NOT_FOUND&quot;),
    INTERNAL_SERER_ERROR(500, &quot;INTERNAL_SERVER_ERROR&quot;);

    int statusCode;
    String code;

    StatusEnum(int statusCode, String code) {
        this.statusCode = statusCode;
        this.code = code;
    }
}</code></pre>
<p>μƒνƒμ½”λ“λ΅ λ³΄λ‚Ό λ‡κ°€μ§€μ μμ‹ enum</p>
<pre><code class="language-java">@PostMapping(&quot;/user&quot;)
    public ResponseEntity&lt;Message&gt; saveUser(@RequestBody User user){
        // user κ°μ²΄λ¥Ό λ°›μ•„μ„ μ΄λ¦„μ„ λ³€κ²½
        user.setName(&quot;user2&quot;);

        Message message = new Message();
        HttpHeaders headers= new HttpHeaders();
        headers.setContentType(new MediaType(&quot;application&quot;, &quot;json&quot;, StandardCharsets.UTF_8));
        message.setStatus(StatusEnum.OK);
        message.setMessage(&quot;μ„±κ³µ μ½”λ“&quot;);
        message.setData(user);

        return new ResponseEntity&lt;&gt;(message, headers, HttpStatus.OK);
    }</code></pre>
<p>μ΄μ „μ μ½”λ“μ—μ„ Message ν΄λμ¤λ¥Ό ν†µν•΄ <strong>StatusCode, ResponseMessage, ResponseData</strong>λ¥Ό λ‹΄μ•„μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμ„ λ³΄λ‚΄λ” μ½”λ“μ΄λ‹¤.</p>
<p><img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/4e7d1360-5499-4f4b-84e2-121a57a2864e/image.png" /></p>
<p><a href="https://adjh54.tistory.com/150?category=1074554">μ°Έκ³  μλ£</a>
<a href="https://devlog-wjdrbs96.tistory.com/182">μ°Έκ³  μλ£</a></p>