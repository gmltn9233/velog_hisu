<h2 id="ğŸ“–ë¬¸ì œ">ğŸ“–ë¬¸ì œ</h2>
<p><a href="https://www.acmicpc.net/problem/17837">17387 ìƒˆë¡œìš´ ê²Œì„ 2</a>
<img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/b5053ce7-fa6f-49b0-909b-bdef714db89f/image.png" />
<img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/9cd356ce-88bf-48e7-a102-788ad2b997c6/image.png" />
<img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/057f2eba-fe63-40df-9fd7-266918eb56bd/image.png" /></p>
<h2 id="ğŸ’¡êµ¬ìƒ">ğŸ’¡êµ¬ìƒ</h2>
<p>êµ¬í˜„ ë¬¸ì œë‹ˆ ë¬¸ì œì˜ ì¡°ê±´ì„ ë¨¼ì € ì‚´í´ë³´ì.</p>
<ul>
<li>ë§µì˜ í¬ê¸° <strong>NXN</strong>, ë§ì˜ ê°œìˆ˜ <strong>K</strong></li>
<li>ë§ì€ 1í„´ì— 1ë²ˆ ë§ë¶€í„° Kë²ˆ ë§ê¹Œì§€ <strong>ìˆœì„œëŒ€ë¡œ í•œì¹¸</strong> ì›€ì§ì¸ë‹¤.<ul>
<li>ì´ë™ ë°©í–¥(ì˜¤ë¥¸ìª½ :1, ì™¼ìª½: 2, ìœ„ìª½: 3, ì•„ë˜ìª½:4)</li>
<li>ë§ì´ ì´ë™í• ë•Œ, ìœ„ì— ì˜¬ë ¤ì ¸ ìˆëŠ” ë§ì´ ìˆìœ¼ë©´ í•¨ê»˜ ì´ë™í•œë‹¤.</li>
<li>ë§ì€ ì´ë™í•  ì§€ì ì— ë§ì´ ìˆë‹¤ë©´ ê·¸ ë§ ìœ„ë¡œ ì´ë™í•œë‹¤.</li>
</ul>
</li>
<li>ë§µì˜ ìƒ‰ìƒ (í°ìƒ‰: 0, ë¹¨ê°„ìƒ‰: 1, íŒŒë€ìƒ‰: 2)<ul>
<li>í°ìƒ‰: ì´ë™í•œë‹¤.</li>
<li>ë¹¨ê°„ìƒ‰: í˜„ì¬ ë§ë¶€í„° ë¨¸ë¦¬ ìœ„ì— ìŒ“ì—¬ìˆëŠ” <strong>ëª¨ë“  ë§ì˜ ìˆœì„œë¥¼ ë°˜ëŒ€ë¡œ ë°”ê¾¸ê³  ì´ë™</strong>í•œë‹¤.</li>
<li>íŒŒë€ìƒ‰<ul>
<li><strong>ë§ì˜ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ ë°”ê¾¼ë‹¤.</strong></li>
<li>ë°”ê¾¼ ë°©í–¥ìœ¼ë¡œ 1ì¹¸ ì´ë™í•œë‹¤.</li>
<li>ë°”ê¾¼ ë°©í–¥ì˜ ëª©ì ì§€ê°€ íŒŒë€ìƒ‰ì´ë¼ë©´ ì´ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li><strong>ì²´ìŠ¤íŒì„ ë²—ì–´ë‚˜ëŠ” ê²½ìš° íŒŒë€ìƒ‰ê³¼ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•œë‹¤.</strong></li>
</ul>
</li>
</ul>
</li>
<li>ì¢…ë£Œ ì¡°ê±´<ul>
<li>í•œ ì²´ìŠ¤íŒì— ìŒ“ì¸ ë§ì´ <strong>4ë§ˆë¦¬ ì´ìƒì´ë¼ë©´, í˜„ì¬ í„´ì„ ì¶œë ¥í•œë‹¤.</strong></li>
<li>í˜„ì¬ í„´ì´ <strong>1,000 ì´ìƒ</strong>ì´ê±°ë‚˜ <strong>ì ˆëŒ€ë¡œ ê²Œì„ì„ ì¢…ë£Œë˜ì§€ ì•ŠëŠ” ê²½ìš° -1ì„ ì¶œë ¥</strong>í•œë‹¤.</li>
</ul>
</li>
</ul>
<p>ìœ„ ì¡°ê±´ì— ë”°ë¼ì„œ ì°¨ê·¼ì°¨ê·¼ êµ¬í˜„í•´ë³´ì.</p>
<h2 id="ğŸ”ì½”ë“œ">ğŸ”ì½”ë“œ</h2>
<pre><code class="language-c">#include&lt;bits/stdc++.h&gt; 
using namespace std;
int n,k,x,y,d,cnt=1; 
int mp[13][13];
stack&lt;int&gt; horseMap[13][13];
vector&lt;int&gt; horse[11];
int dy[4]={0,0,-1,1};
int dx[4]={1,-1,0,0}; 

// ë°©í–¥ ë°˜ëŒ€ë¡œ ë°”ê¾¸ê¸° 
int changeDir(int num){
    if(num == 0) return 1;
    if(num == 1) return 0;
    if(num == 2) return 3;
    if(num == 3) return 2;
}
// ë§ ì›€ì§ì´ê¸° 
void move(int y, int x, int dir, int idx,int turn){
    // ë‹¤ìŒ ì§€ì  
    int ny = y+dy[dir];
    int nx = x+dx[dir];
    // ë‹¤ìŒ ì§€ì  ê²€í†  
    if(mp[ny][nx]==2 || ny&lt;0 || ny&gt;=n || nx&lt;0 ||nx&gt;=n){
        // ë‹¤ìŒ ì§€ì ì´ ë²”ìœ„ ë°–ì´ê±°ë‚˜
        // íŒŒë€ìƒ‰ ë°”ë‹¥ì¼ ê²½ìš° ë°©í–¥ì„ ë°”ê¿ˆ 
        horse[idx][2]=changeDir(horse[idx][2]);
        dir = horse[idx][2];
        ny = y+dy[dir];
        nx = x+dx[dir];
        // ë°”ê¿”ë„ ê°™ë‹¤ë©´ return(ì´ë™X) 
        if(mp[ny][nx]==2 || ny&lt;0 || ny&gt;=n || nx&lt;0 ||nx&gt;=n) return;
    }

    // í•˜ì–‘
    if(mp[ny][nx]==0){
        vector&lt;int&gt; v;
        // ìê¸° ìœ„ì— ìˆëŠ”ê²ƒ ë¨¼ì € ë²¡í„°ì— ì‚½ì… 
        while(horseMap[y][x].top()!=idx){
            v.push_back(horseMap[y][x].top());
            // ë§ì˜ ì´ë™: ë§ì˜ ì¢Œí‘œë¥¼ ê°±ì‹ í•´ì¤Œ 
            horse[horseMap[y][x].top()][0]=ny;
            horse[horseMap[y][x].top()][1]=nx;
            // pop
            horseMap[y][x].pop();
        }
        // í˜„ì¬ indexì˜ ë§ ê°™ì€ ë¡œì§ ì‹¤í–‰ 
        v.push_back(horseMap[y][x].top());
        horse[idx][0]=ny;
        horse[idx][1]=nx;
        horseMap[y][x].pop();
        // ë²¡í„° ìˆœì„œ ë’¤ì§‘ê¸° 
        for(int i = v.size()-1; i&gt;=0; i--){
            // horseMapì— ì‚½ì… 
            horseMap[ny][nx].push(v[i]);
        }
    }

    // ë¹¨ê°• 
    if(mp[ny][nx]==1){
        // ìê¸° ìœ„ì— ìˆëŠ”ê²ƒ ë¨¼ì € ë²¡í„°ì— ì‚½ì…
        while(horseMap[y][x].top()!=idx){
            horseMap[ny][nx].push(horseMap[y][x].top());
            // ë§ì˜ ì´ë™: ë§ì˜ ì¢Œí‘œë¥¼ ê°±ì‹ í•´ì¤Œ 
            horse[horseMap[y][x].top()][0]=ny;
            horse[horseMap[y][x].top()][1]=nx;
            // pop 
            horseMap[y][x].pop();
        }
        // í˜„ì¬ indexì˜ ë§ ê°™ì€ ë¡œì§ ì‹¤í–‰ 
        horseMap[ny][nx].push(horseMap[y][x].top());
        horse[idx][0]=ny;
        horse[idx][1]=nx;
        horseMap[y][x].pop();
    }

    // ì›€ì§ì¸ ì§€ì ì˜ ë§ì´ 4ê°œì´ìƒ ìŒ“ì—¬ìˆë‹¤ë©´ ì¢…ë£Œ 
    if(horseMap[ny][nx].size()&gt;=4){
        cout&lt;&lt;turn;
        exit(0);
    }
}
int main() {
    cin&gt;&gt;n&gt;&gt;k;
    for(int i=0; i&lt;n; i++){
        for(int j=0; j&lt;n; j++){
            cin&gt;&gt;mp[i][j];
            // 0: í°, 1: ë¹¨, 2: íŒŒ 
        }
    }
    // í–‰, ì—´, ì´ë™ë°©í–¥ (ì˜¤,ì™¼,ìœ„,ì•„ë˜) 
    for(int i=1; i&lt;=k; i++){
        cin&gt;&gt;y&gt;&gt;x&gt;&gt;d;
        horse[i].push_back(y-1);
        horse[i].push_back(x-1);
        horse[i].push_back(d-1);
        horseMap[y-1][x-1].push(i); 
    }
    while(cnt&lt;1000){
        // í˜„ì¬ í„´ì´ 1,000 ì´ìƒì´ë¼ë©´ ì¢…ë£Œ 
        for(int i=1; i&lt;=k; i++){
            move(horse[i][0],horse[i][1],horse[i][2],i,cnt);
        }
        cnt++;
    } 

    cout&lt;&lt;-1;
    return 0;
}</code></pre>
<h3 id="ìë£Œí˜•">ìë£Œí˜•</h3>
<p>ë¨¼ì €, ë¬¸ì œì˜ ë¡œì§ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ”, ì•„ë˜ 3ê°€ì§€ ìë£Œí˜•ì´ í•„ìš”í•˜ë‹¤.</p>
<ul>
<li>ì²´ìŠ¤íŒ (ìƒ‰ìƒ êµ¬ë¶„)</li>
<li>ë§ì˜ í˜„ì¬ ìœ„ì¹˜ì™€ ë°©í–¥</li>
<li>ì²´ìŠ¤íŒ ë§ˆë‹¤ ìŒ“ì—¬ìˆëŠ” ë§ì˜ ìƒí™©</li>
</ul>
<h4 id="ì²´ìŠ¤íŒ">ì²´ìŠ¤íŒ</h4>
<p>ìƒ‰ìƒ (0,1,2) ë§Œ ì €ì¥í•˜ë©´ ë˜ë¯€ë¡œ ë‹¨ìˆœí•œ <strong>ì •ìˆ˜ë°°ì—´</strong>ë¡œ ì„ ì–¸í•œë‹¤.</p>
<pre><code class="language-c">int mp[13][13];</code></pre>
<h4 id="ë§ì˜-í˜„ì¬-ìœ„ì¹˜ì™€-ë°©í–¥">ë§ì˜ í˜„ì¬ ìœ„ì¹˜ì™€ ë°©í–¥</h4>
<p>ë§ì˜ ìœ„ì¹˜ì™€ ë°©í–¥ì´ ê³„ì† ë°”ë€Œë¯€ë¡œ ê°±ì‹ í•´ì¤„ ìë£Œí˜•ì´ í•„ìš”í•˜ë‹¤.
í•„ìëŠ” ë§ì˜ <strong>index</strong>ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìœ„ì¹˜ì™€ ë°©í–¥ì„ ê°±ì‹ í•´ì¤„ 2ì°¨ì› ë°°ì—´ ë²¡í„°ë¡œ ì„¤ì •í•˜ì˜€ë‹¤.</p>
<pre><code class="language-c">vector&lt;int&gt; horse[11];</code></pre>
<p>horse[index] ì— yì¢Œí‘œ, xì¢Œí‘œ, ë°©í–¥ê°’ì„ ìˆœì„œëŒ€ë¡œ <code>push_back()</code> í•´ì¤„ ê²ƒì´ë‹¤.</p>
<h4 id="ì²´ìŠ¤íŒ-ë§ˆë‹¤-ìŒ“ì—¬ìˆëŠ”-ë§ì˜-ìƒí™©">ì²´ìŠ¤íŒ ë§ˆë‹¤ ìŒ“ì—¬ìˆëŠ” ë§ì˜ ìƒí™©</h4>
<p>ë§ì„ ì›€ì§ì´ëŠ” ë¡œì§ì„ ìì„¸íˆ ì‚´í´ë³´ì.
<strong>ìŒ“ì—¬ìˆëŠ” ìˆœì„œê°€ ì¡´ì¬í•˜ë¯€ë¡œ</strong> <code>stack</code>ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.</p>
<pre><code class="language-c">stack&lt;int&gt; horseMap[13][13];</code></pre>
<p>horseMap[y][x] ëŠ” y,xì¢Œí‘œì˜ ë§µì— ìˆëŠ” ë§ë“¤ì„ ë‚˜íƒ€ë‚¸ë‹¤.</p>
<h3 id="ì›€ì§ì´ëŠ”-ë¡œì§">ì›€ì§ì´ëŠ” ë¡œì§</h3>
<h4 id="ë‹¤ìŒ-êµ¬ì—­ì´-íŒŒë‘ì¼ë•Œ-ë§µì„-ë²—ì–´ë‚ ë•Œ">ë‹¤ìŒ êµ¬ì—­ì´ íŒŒë‘ì¼ë•Œ, ë§µì„ ë²—ì–´ë‚ ë•Œ</h4>
<p>ì¢Œí‘œê¸°ë°˜ íƒìƒ‰ì„ ì§„í–‰í• ë•ŒëŠ” ì´ìƒì¹˜ ë¨¼ì € ê±¸ëŸ¬ë‚´ëŠ” ìŠµê´€ì„ ë“¤ì´ì.</p>
<pre><code class="language-c">void move(int y, int x, int dir, int idx,int turn){
    // ë‹¤ìŒ ì§€ì  
    int ny = y+dy[dir];
    int nx = x+dx[dir];
    // ë‹¤ìŒ ì§€ì  ê²€í†  
    if(mp[ny][nx]==2 || ny&lt;0 || ny&gt;=n || nx&lt;0 ||nx&gt;=n){
        // ë‹¤ìŒ ì§€ì ì´ ë²”ìœ„ ë°–ì´ê±°ë‚˜
        // íŒŒë€ìƒ‰ ë°”ë‹¥ì¼ ê²½ìš° ë°©í–¥ì„ ë°”ê¿ˆ 
    }
}</code></pre>
<p>íŒŒë€ìƒ‰ì´ë¼ë©´, ë°©í–¥ì„ ë°”ê¿”ì•¼í•œë‹¤. ë°©í–¥ì„ ë°”ê¾¸ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì.</p>
<pre><code class="language-c">// ë°©í–¥ ë°˜ëŒ€ë¡œ ë°”ê¾¸ê¸° 
int changeDir(int num){
    if(num == 0) return 1;
    if(num == 1) return 0;
    if(num == 2) return 3;
    if(num == 3) return 2;
}</code></pre>
<p>ì´ í•¨ìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒŒë€ìƒ‰ê³¼ ë§µì„ ë²—ì–´ë‚ ë•Œì˜ ê²½ìš°ë¥¼ êµ¬í˜„í•´ì¤€ë‹¤.</p>
<pre><code class="language-c">void move(int y, int x, int dir, int idx,int turn){
    // ë‹¤ìŒ ì§€ì  
    int ny = y+dy[dir];
    int nx = x+dx[dir];
    // ë‹¤ìŒ ì§€ì  ê²€í†  
    if(mp[ny][nx]==2 || ny&lt;0 || ny&gt;=n || nx&lt;0 ||nx&gt;=n){
        // ë‹¤ìŒ ì§€ì ì´ ë²”ìœ„ ë°–ì´ê±°ë‚˜
        // íŒŒë€ìƒ‰ ë°”ë‹¥ì¼ ê²½ìš° ë°©í–¥ì„ ë°”ê¿ˆ 
        horse[idx][2]=changeDir(horse[idx][2]);
        dir = horse[idx][2];
        ny = y+dy[dir];
        nx = x+dx[dir];
        // ë°”ê¿”ë„ ê°™ë‹¤ë©´ return(ì´ë™X) 
        if(mp[ny][nx]==2 || ny&lt;0 || ny&gt;=n || nx&lt;0 ||nx&gt;=n) return;
    }</code></pre>
<p>ë°©í–¥ì„ ë°”ê¿”ì£¼ê³  ë°”ë€ ë°©í–¥ì´ íŒŒë€ìƒ‰ì´ê±°ë‚˜ ë§µ ë°–ì´ë¼ë©´ ì›€ì§ì´ì§€ ì•ŠëŠ”ë‹¤.</p>
<h4 id="í•˜ì–‘">í•˜ì–‘</h4>
<p>ë¨¼ì € í•˜ì–‘ì¸ ê²½ìš°ëŠ” ìê¸° ë¨¸ë¦¬ìœ„ì—ìˆëŠ” ë§ì„ ëª¨ë‘ ë°ë¦¬ê³  ë„ì°©ì§€ ë§ì˜ ë¨¸ë¦¬ ìœ„ë¡œ ì´ë™í•´ì•¼í•œë‹¤.
<img alt="" src="https://velog.velcdn.com/images/gmltn9233/post/799aef72-7b58-4d59-b7f7-8b3848929b3d/image.png" />
ì˜ˆë¥¼ ë“¤ì–´ {y,x} ì¢Œí‘œì˜ Aê°€ {ny, nx} ì¢Œí‘œë¡œ ì´ë™í•´ì•¼í•  ê²½ìš°, Aìœ„ì˜ B,C ë¥¼ í•¨ê»˜ ë°ë ¤ê°€ì•¼í•œë‹¤.
í•˜ì§€ë§Œ <code>ìŠ¤íƒ</code> íŠ¹ì„±ìƒ <strong>C-&gt;B-&gt;A</strong> ìˆœì„œë¡œ ë‚˜ì˜¤ê²Œëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì¤‘ê°„ì—ì„œ ê°’ì„ ì €ì¥í•´ì¤„ <code>ë²¡í„°</code>ê°€ í•„ìš”í•˜ë‹¤.</p>
<pre><code class="language-c">if(mp[ny][nx]==0){
        vector&lt;int&gt; v;
        // ìê¸° ìœ„ì— ìˆëŠ”ê²ƒ ë¨¼ì € ë²¡í„°ì— ì‚½ì… 
        while(horseMap[y][x].top()!=idx){
            v.push_back(horseMap[y][x].top());
            // ë§ì˜ ì´ë™: ë§ì˜ ì¢Œí‘œë¥¼ ê°±ì‹ í•´ì¤Œ 
            horse[horseMap[y][x].top()][0]=ny;
            horse[horseMap[y][x].top()][1]=nx;
            // pop
            horseMap[y][x].pop();
        }
        // í˜„ì¬ indexì˜ ë§ ê°™ì€ ë¡œì§ ì‹¤í–‰ 
        v.push_back(horseMap[y][x].top());
        horse[idx][0]=ny;
        horse[idx][1]=nx;
        horseMap[y][x].pop();
        // ë²¡í„° ìˆœì„œ ë’¤ì§‘ê¸° 
        for(int i = v.size()-1; i&gt;=0; i--){
            // horseMapì— ì‚½ì… 
            horseMap[ny][nx].push(v[i]);
        }
    }</code></pre>
<p>ë²¡í„°ì— ìœ„ ìˆœì„œëŒ€ë¡œ ì €ì¥í•´ì£¼ê³  ì¸ë±ìŠ¤ ë’¤ì—ì„œ ë¶€í„° ì ‘ê·¼í•˜ì—¬ <strong>horseMap</strong>ì— ì‚½ì…í•´ì¤€ë‹¤.</p>
<pre><code class="language-c">while(horseMap[y][x].top()!=idx){
    v.push_back(horseMap[y][x].top());
    // ë§ì˜ ì´ë™: ë§ì˜ ì¢Œí‘œë¥¼ ê°±ì‹ í•´ì¤Œ 
    horse[horseMap[y][x].top()][0]=ny;
    horse[horseMap[y][x].top()][1]=nx;
    // pop
    horseMap[y][x].pop();
}</code></pre>
<p>ìœ„ ì½”ë“œì—ì„œë„ pop ì˜ ìˆœì„œê°€ ì˜ëª»ë˜ë©´ ìœ„ì¹˜ ê°±ì‹ ì´ ì˜ëª»ë  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì.</p>
<h4 id="ë¹¨ê°•">ë¹¨ê°•</h4>
<p>ë¹¨ê°•ì€ í•˜ì–‘ê³¼ ì½”ë“œê°€ ë™ì¼í•˜ì§€ë§Œ, <strong>horseMap</strong>ì— ì‚½ì…ì‹œ ë°˜ëŒ€ì˜ ìˆœì„œë¡œ ì‚½ì…í•´ì£¼ì–´ì•¼ í•˜ë¯€ë¡œ, êµ³ì´ vectorì— ì €ì¥í•˜ì§€ì•Šê³  ë°”ë¡œ ì‚½ì…í•´ì¤˜ë„ ë¬´ë°©í•˜ë‹¤.</p>
<pre><code class="language-c">// ë¹¨ê°• 
if(mp[ny][nx]==1){
    // ìê¸° ìœ„ì— ìˆëŠ”ê²ƒ ë¨¼ì € ë²¡í„°ì— ì‚½ì…
    while(horseMap[y][x].top()!=idx){
        horseMap[ny][nx].push(horseMap[y][x].top());
        // ë§ì˜ ì´ë™: ë§ì˜ ì¢Œí‘œë¥¼ ê°±ì‹ í•´ì¤Œ 
        horse[horseMap[y][x].top()][0]=ny;
        horse[horseMap[y][x].top()][1]=nx;
        // pop 
        horseMap[y][x].pop();
    }
    // í˜„ì¬ indexì˜ ë§ ê°™ì€ ë¡œì§ ì‹¤í–‰ 
    horseMap[ny][nx].push(horseMap[y][x].top());
    horse[idx][0]=ny;
    horse[idx][1]=nx;
    horseMap[y][x].pop();
}</code></pre>
<h4 id="ì¢…ë£Œ">ì¢…ë£Œ</h4>
<p>ì›€ì§ì¸ ì§€ì ì˜ ë§ì´ 4ê°œ ì´ìƒ ìŒ“ì—¬ìˆë‹¤ë©´ ì¢…ë£Œí•œë‹¤.</p>
<pre><code class="language-c">if(horseMap[ny][nx].size()&gt;=4){
    cout&lt;&lt;turn;
    exit(0);
}</code></pre>
<h2 id="ğŸ”¥ë°°ìš´-ì ">ğŸ”¥ë°°ìš´ ì </h2>
<p>ì–´ë ¤ì›Œ ë³´ì´ë”ë¼ë„ êµ¬í˜„ë¬¸ì œë¼ë©´ ì°¨ê·¼ì°¨ê·¼ êµ¬í˜„í•´ ë‚˜ê°€ì.
<strong>ê·¸ë¦¬ê³  ë¬¸ì œì˜ ì¡°ê±´ì„ ì˜ ì½ì..</strong> 
ë¬¸ì œì˜ ì¡°ê±´ì„ ì˜ëª» ì½ì–´ì„œ íŒŒë‘ì¼ì‹œ ì¼ì‹œì ìœ¼ë¡œ ë°©í–¥ì„ ë°”ê¾¸ëŠ” ì¤„ ì•Œê³  ë””ë²„ê¹…ìœ¼ë¡œ 2ì‹œê°„ë™ì•ˆ ê³ ìƒí–ˆë‹¤ğŸ˜‚</p>